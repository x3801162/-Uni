/**
 * tdesign v1.11.1
 * (c) 2025 TDesign Group
 * @license MIT
 */

'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

var _slicedToArray = require('@babel/runtime/helpers/slicedToArray');
var Vue = require('vue');
var _common_js_common = require('../_common/js/common.js');
var _common_js_utils_getColorTokenColor = require('../_common/js/utils/getColorTokenColor.js');
var hooks_useMutationObservable = require('./useMutationObservable.js');
var isString = require('../_chunks/dep-588e2e70.js');
require('@babel/runtime/helpers/defineProperty');
require('../_chunks/dep-05850262.js');
require('../_chunks/dep-e9a63584.js');
require('../_chunks/dep-53383176.js');
require('@babel/runtime/helpers/typeof');
require('../_chunks/dep-f84e6e17.js');
require('../_chunks/dep-0c11c462.js');
require('../_chunks/dep-0bd122a0.js');
require('../_chunks/dep-b999c3d4.js');
require('../_chunks/dep-159c7a94.js');
require('../_chunks/dep-3cf5587c.js');
require('../_chunks/dep-ea269588.js');
require('../_chunks/dep-b633ec9e.js');
require('../_chunks/dep-7aa6341b.js');
require('../_chunks/dep-b8e8d654.js');
require('../_chunks/dep-5f870597.js');
require('../_chunks/dep-dd93e905.js');
require('../_chunks/dep-d1ba5719.js');
require('../_chunks/dep-4326ca38.js');
require('../_chunks/dep-2da1d545.js');
require('../_chunks/dep-42a5275c.js');

function _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }

var _slicedToArray__default = /*#__PURE__*/_interopDefaultLegacy(_slicedToArray);

function useVariables(variables) {
  var _document;
  var values = {};
  var varsArray = [];
  varsArray = Object.values(variables);
  Object.entries(variables).forEach(function (_ref) {
    var _ref2 = _slicedToArray__default["default"](_ref, 2),
      key = _ref2[0],
      varName = _ref2[1];
    values[key] = Vue.ref(_common_js_utils_getColorTokenColor.getColorTokenColor(varName));
  });
  varsArray.forEach(function (varName) {
    values[varName] = Vue.ref(_common_js_utils_getColorTokenColor.getColorTokenColor(varName));
  });
  var targetElement = (_document = document) === null || _document === void 0 ? void 0 : _document.documentElement;
  hooks_useMutationObservable.useMutationObservable(targetElement, function (mutationsList) {
    mutationsList.some(function (mutation) {
      if (mutation.type === "attributes" && mutation.attributeName === _common_js_common.THEME_MODE) {
        if (isString.isString(variables) || Array.isArray(variables)) {
          varsArray.forEach(function (varName) {
            values[varName].value = _common_js_utils_getColorTokenColor.getColorTokenColor(varName);
          });
        } else {
          Object.entries(variables).forEach(function (_ref3) {
            var _ref4 = _slicedToArray__default["default"](_ref3, 2),
              key = _ref4[0],
              varName = _ref4[1];
            values[key].value = _common_js_utils_getColorTokenColor.getColorTokenColor(varName);
          });
        }
        return true;
      }
      return false;
    });
  });
  return values;
}

exports.useVariables = useVariables;
//# sourceMappingURL=useVariables.js.map
