{"version":3,"file":"grid-item.js","sources":["../../src/grid/grid-item.tsx"],"sourcesContent":["import { defineComponent, computed, inject } from 'vue';\nimport { isFunction, isString, isObject } from 'lodash-es';\nimport { Hover } from '../shared';\nimport config from '../config';\nimport props from './grid-item-props';\nimport { useTNodeJSX } from '../hooks/tnode';\nimport TImage from '../image';\nimport TBadge from '../badge';\nimport { usePrefixClass } from '../hooks/useClass';\n\nconst { prefix } = config;\n\nexport default defineComponent({\n  name: `${prefix}-grid-item`,\n  directives: { Hover },\n  components: { TImage, TBadge },\n  props,\n  setup(props, context) {\n    const gridItemClass = usePrefixClass('grid-item');\n\n    const renderTNodeJSX = useTNodeJSX();\n    const { column, border, align, gutter, hover } = inject<any>('grid');\n\n    const rootStyle = computed(() => {\n      const percent = column.value > 0 ? `${100 / +column.value}%` : 0;\n      const style: Record<string, any> = {\n        textAlign: ['center', 'left'].includes(align.value) ? align.value : 'center',\n      };\n      if (percent !== 0) {\n        style.flexBasis = percent;\n      }\n      return style;\n    });\n\n    const size = computed(() => {\n      const col = column.value;\n      if (!col || col === 4) return 'middle';\n      return col > 4 ? 'small' : 'large';\n    });\n\n    const realImage = computed(() => {\n      if (isString(props.image)) return { src: props.image };\n      if (isObject(props.image) && !isFunction(props.image) && !context.slots.image) {\n        return props.image;\n      }\n      return null;\n    });\n\n    const gridItemClasses = computed(() => [\n      `${gridItemClass.value}`,\n      `${gridItemClass.value}--${props.layout}`,\n      {\n        [`${gridItemClass.value}--bordered`]: border.value,\n        [`${gridItemClass.value}--surround`]: border.value && gutter.value,\n      },\n    ]);\n\n    return () => {\n      const renderImage = () => {\n        if (realImage.value) {\n          return <t-image shape=\"round\" {...realImage.value} />;\n        }\n        if (props.icon) {\n          return renderTNodeJSX('icon');\n        }\n        return renderTNodeJSX('image');\n      };\n\n      return (\n        <div\n          class={gridItemClasses.value}\n          style={rootStyle.value}\n          v-hover={{ className: `${gridItemClass.value}--hover`, disabledHover: !hover.value }}\n        >\n          <div class={`${gridItemClass.value}__image ${gridItemClass.value}__image--${size.value}`}>\n            {props.badge ? <t-badge {...(props.badge as Object)}>{renderImage()}</t-badge> : renderImage()}\n          </div>\n\n          <div class={`${gridItemClass.value}__content ${gridItemClass.value}__content--${props.layout}`}>\n            <div class={`${gridItemClass.value}__title ${gridItemClass.value}__title--${size.value}`}>\n              {renderTNodeJSX('text')}\n            </div>\n            <div class={`${gridItemClass.value}__description ${gridItemClass.value}__description--${props.layout}`}>\n              {renderTNodeJSX('description')}\n            </div>\n          </div>\n        </div>\n      );\n    };\n  },\n});\n"],"names":["_isSlot","s","Object","prototype","toString","call","_isVNode","prefix","config","defineComponent","name","directives","Hover","components","TImage","TBadge","props","setup","context","gridItemClass","usePrefixClass","renderTNodeJSX","useTNodeJSX","_inject","inject","column","border","align","gutter","hover","rootStyle","computed","percent","value","concat","style","textAlign","includes","flexBasis","size","col","realImage","isString","image","src","isObject","isFunction","slots","gridItemClasses","layout","_defineProperty","_slot","renderImage","_createVNode","_resolveComponent","_mergeProps","icon","_withDirectives","badge","className","disabledHover"],"mappings":"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"}