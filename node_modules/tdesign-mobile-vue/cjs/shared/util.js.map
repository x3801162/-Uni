{"version":3,"file":"util.js","sources":["../../src/shared/util.ts"],"sourcesContent":["import { isNumber } from 'lodash-es';\nimport { usePrefixClass } from '../hooks/useClass';\n\nexport function toCamel(str: string): string {\n  return str.replace(/^\\S/, (m) => m.toUpperCase());\n}\n\nexport const isBrowser = typeof window !== 'undefined';\n\nexport const sleep = (ms: number) => new Promise((resolve) => setTimeout(resolve, ms)); // eslint-disable-line\n\nexport const uniqueFactory = (compName: string) => {\n  let number = 0;\n  const prefixClass = usePrefixClass();\n  return () => `${prefixClass.value}-${compName}_${number++}`;\n};\n\nexport const convertUnit = (val: string | number | undefined) => {\n  if (val == null) return 0;\n  return isNumber(val) ? `${val}px` : val;\n};\n\nexport const reconvertUnit = (val: string | number | undefined) => {\n  if (val == null) return 0;\n  return isNumber(val) ? Number(val) : Number(val.slice(0, -2));\n};\n\n/**\n * 格式化数字\n * @param value 传入的数字字符串\n * @param allowDecimal 是否允许小数，默认为 true\n * @param allowNegative 是否允许负数，默认为 true\n * @returns 返回格式化后的数字字符串\n */\nexport const formatNumber = (value: string, allowDecimal = true, allowNegative = true) => {\n  if (allowDecimal) {\n    const index = value.indexOf('.');\n    if (index !== -1) {\n      value = `${value.slice(0, index + 1)}${value.slice(index).replace(/\\./g, '')}`;\n    }\n  } else {\n    const [splitValue = ''] = value.split('.');\n    value = splitValue;\n  }\n\n  if (allowNegative) {\n    const index = value.indexOf('-');\n    if (index !== -1) {\n      value = `${value.slice(0, index + 1)}${value.slice(index).replace(/-/g, '')}`;\n    }\n  } else {\n    value = value.replace(/-/g, '');\n  }\n\n  return value.replace(/[^\\d.-]/g, '');\n};\n"],"names":["toCamel","str","replace","m","toUpperCase","isBrowser","window","sleep","ms","Promise","resolve","setTimeout","uniqueFactory","compName","number","prefixClass","usePrefixClass","concat","value","convertUnit","val","isNumber","reconvertUnit","Number","slice","formatNumber","allowDecimal","arguments","length","undefined","allowNegative","index","indexOf","_value$split","split","_value$split2","_slicedToArray","_value$split2$","splitValue"],"mappings":"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"}