{"version":3,"file":"helper.js","sources":["../../src/color-picker/helper.ts"],"sourcesContent":["import { Color } from '../_common/js/color-picker';\nimport { DEFAULT_SYSTEM_SWATCH_COLORS } from '../_common/js/color-picker/constants';\nimport type { TdColorPickerProps as ColorPickerProps } from './type';\n\nexport const getCoordinate = (e: TouchEvent, rect: DOMRect, isFixed?: boolean) => {\n  const { pageX, pageY, clientY } = e?.changedTouches?.[0] || {};\n  return {\n    x: Math.min(Math.max(0, pageX - rect.left), rect.width),\n    y: Math.min(Math.max(0, (isFixed ? clientY : pageY) - rect.top), rect.height),\n  };\n};\n\nexport const getFormatList = (format: ColorPickerProps['format'], color: Color): [string, Array<string | number>] => {\n  const FORMAT_MAP = {\n    HSV: Object.values(color.getHsva()),\n    HSVA: Object.values(color.getHsva()),\n\n    HSL: Object.values(color.getHsla()),\n    HSLA: Object.values(color.getHsla()),\n    HSB: Object.values(color.getHsla()),\n\n    RGB: Object.values(color.getRgba()),\n    RGBA: Object.values(color.getRgba()),\n    CMYK: [...Object.values(color.getCmyk()), 0],\n    HEX8: [color.hex8, 0],\n\n    CSS: [color.css, 0],\n    HEX: [color.hex, 0],\n  };\n\n  const cur = FORMAT_MAP[format];\n  if (cur) {\n    return [format, [...cur.slice(0, cur.length - 1), `${Math.round(color.alpha * 100)}%`]];\n  }\n  return ['RGB', FORMAT_MAP.RGB];\n};\n\nexport const genSwatchList = (prop: ColorPickerProps['swatchColors']) => {\n  if (prop === undefined) {\n    return DEFAULT_SYSTEM_SWATCH_COLORS.slice(0, 10);\n  }\n  if (!prop || !prop.length) {\n    return [];\n  }\n  return prop;\n};\n"],"names":["getCoordinate","e","rect","isFixed","_e$changedTouches","_ref","changedTouches","pageX","pageY","clientY","x","Math","min","max","left","width","y","top","height","getFormatList","format","color","FORMAT_MAP","HSV","Object","values","getHsva","HSVA","HSL","getHsla","HSLA","HSB","RGB","getRgba","RGBA","CMYK","concat","_toConsumableArray","getCmyk","HEX8","hex8","CSS","css","HEX","hex","cur","slice","length","round","alpha","genSwatchList","prop","DEFAULT_SYSTEM_SWATCH_COLORS"],"mappings":"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"}