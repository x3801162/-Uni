{"version":3,"file":"index.js","sources":["pages/user/index.vue","../../../../HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvdXNlci9pbmRleC52dWU"],"sourcesContent":["<template>\r\n\t<view>\r\n\t\t<view class=\"index-header\">\r\n\t\t\t<indexHeader :bannerList=\"bannerList\" />\r\n\t\t</view>\r\n\t\t<view class=\"container\">\r\n\t\t\t<indexMenu :menuList=\"menuList\" />\r\n\t\t</view>\r\n\t\t<view class=\"index-notice\">\r\n\t\t\t<indexNotice :notiecList=\"notiecList\" />\r\n\t\t</view>\r\n\t\t<view class=\"index-categories\">\r\n\t\t\t<indexCategories :categories=\"categories\" />\r\n\t\t</view>\r\n\r\n\t\t<view class=\"recommend-more\">\r\n\t\t\t<indexRecommend />\r\n\t\t</view>\r\n\t\t<view class=\"recommend-more\">\r\n\t\t\t<indexDoctor :doctorList=\"doctorList\" />\r\n\t\t</view>\r\n\r\n\t</view>\r\n</template>\r\n\r\n\r\n<script lang=\"ts\" setup>\r\n// Vue 3 组合式 API 写法 - UniApp \t\r\nimport { computed, ref, inject, nextTick, toRefs, onMounted } from \"vue\";\r\nimport { request_noToken } from \"@/utils/request\";\r\nimport API from \"@/config/api\";\r\nimport indexHeader from '@/components/index-header.vue';\r\nimport indexMenu from '@/components/index-menu.vue';\r\nimport indexNotice from '@/components/index-notice.vue';\r\nimport indexCategories from '@/components/index-categories.vue';\r\nimport indexRecommend from '@/components/index-recommend.vue';\r\nimport indexDoctor from '@/components/index-doctor.vue';\r\n\r\n// 定义\tbannerList响应式变量并初始化为空数组\r\nconst bannerList = ref([])\r\n// 定义menuList响应式变量并初始化为空数组\r\nconst menuList = ref([])\r\n// 公告\r\nconst notiecList = ref([])\r\n\r\n// 分类\r\nconst categories = ref([])\r\n\r\nconst doctorList = ref([])\r\n\r\nconst primaryColor = ref([])\r\n\r\n// 页面加载时调用获取数据函数\r\nonMounted(() => {\r\n\tgetRequest()\r\n})\r\n\r\nfunction getRequest() {\r\n\trequest_noToken(API.GetOpenList, {}, \"GET\")\r\n\t\t.then((res: any) => {\r\n\t\t\t// 解构res.data中的所有键\r\n\t\t\tconst { subject, menu, notice,doctor,project } = res.data;\r\n\t\t\t// 筛选出index_options为0的项，并按order排序\r\n\t\t\tbannerList.value = subject?.filter((v: any) => v.index_options === 0).sort((a: any, b: any) => a.order - b.order).flatMap((subArray: any) => subArray) || [];\r\n\r\n\t\t\t// 筛选出index_options为1的项，并按order排序\r\n\t\t\tmenuList.value = menu;\r\n\t\t\t// 公告\r\n\t\t\tnotiecList.value = notice;\r\n\r\n\t\t\t// 分类\r\n\t\t\tcategories.value = subject?.filter((v: any) => v.index_options === 3).sort((a: any, b: any) => a.order - b.order).flatMap((subArray: any) => subArray) || [];\r\n\t\t\tuni.__f__('log','at pages/user/index.vue:73',res.data)\r\n\t\t\tdoctorList.value = doctor.sort((a: any, b: any) => a.order - b.order);\r\n\t\t})\r\n\t\t.catch((err: any) => {\r\n\t\t\t// uni.hideLoading()\r\n\t\t\tuni.__f__('error','at pages/user/index.vue:78','请求失败:', err);\r\n\t\t\tthrow Error(err);\r\n\t\t});\r\n\t\r\n\r\n}\r\n\r\n\r\n\r\n</script>\r\n\r\n<style>\r\n@import url(\"./index.scss\");\r\n</style>\r\n","import MiniProgramPage from 'E:/code/uni/济南Uni/济南Uni/pages/user/index.vue'\nwx.createPage(MiniProgramPage)"],"names":["ref","onMounted","request_noToken","API","uni","MiniProgramPage"],"mappings":";;;;;;;AA+BA,MAAA,cAAwB,MAAA;AACxB,MAAA,YAAsB,MAAA;AACtB,MAAA,cAAwB,MAAA;AACxB,MAAA,kBAA4B,MAAA;AAC5B,MAAA,iBAA2B,MAAA;AAC3B,MAAA,cAAwB,MAAA;;;;AAGlB,UAAA,aAAaA,kBAAI,CAAA,CAAE;AAEnB,UAAA,WAAWA,kBAAI,CAAA,CAAE;AAEjB,UAAA,aAAaA,kBAAI,CAAA,CAAE;AAGnB,UAAA,aAAaA,kBAAI,CAAA,CAAE;AAEnB,UAAA,aAAaA,kBAAI,CAAA,CAAE;AAEJA,kBAAAA,IAAI,CAAA,CAAE;AAG3BC,kBAAAA,UAAU,MAAM;AACJ;IAAA,CACX;AAED,aAAS,aAAa;AACLC,oBAAA,gBAAAC,WAAA,IAAI,aAAa,CAAA,GAAI,KAAK,EACxC,KAAK,CAAC,QAAa;AAEnB,cAAM,EAAE,SAAS,MAAM,QAAO,QAAO,YAAY,IAAI;AAE1C,mBAAA,SAAQ,mCAAS,OAAO,CAAC,MAAW,EAAE,kBAAkB,GAAG,KAAK,CAAC,GAAQ,MAAW,EAAE,QAAQ,EAAE,OAAO,QAAQ,CAAC,aAAkB,cAAa;AAG1J,iBAAS,QAAQ;AAEjB,mBAAW,QAAQ;AAGR,mBAAA,SAAQ,mCAAS,OAAO,CAAC,MAAW,EAAE,kBAAkB,GAAG,KAAK,CAAC,GAAQ,MAAW,EAAE,QAAQ,EAAE,OAAO,QAAQ,CAAC,aAAkB,cAAa;AAC1JC,sBAAA,MAAI,MAAM,OAAM,8BAA6B,IAAI,IAAI;AAC1C,mBAAA,QAAQ,OAAO,KAAK,CAAC,GAAQ,MAAW,EAAE,QAAQ,EAAE,KAAK;AAAA,MAAA,CACpE,EACA,MAAM,CAAC,QAAa;AAEpBA,sBAAA,MAAI,MAAM,SAAQ,8BAA6B,SAAS,GAAG;AAC3D,cAAM,MAAM,GAAG;AAAA,MAAA,CACf;AAAA,IAGH;;;;;;;;;;;;;;;;;;;;;;ACjFA,GAAG,WAAWC,SAAe;"}